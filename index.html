<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>[[[PAGE_TITLE]]]</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #D4AF37;
    --cream: #F5F5F0;
    --black: #1A1A1A;
    --dark-gray: #333333;
    --light-gray: #E5E5E5;
    --white: #FFFFFF;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Montserrat', sans-serif;
    color: var(--black);
    line-height: 1.6;
    overflow-x: hidden;
    background-color: var(--white);
    scroll-behavior: smooth;
  }

  a {
    text-decoration: none;
    color: var(--gold);
    transition: var(--transition);
  }

  a:hover {
    color: var(--black);
  }

  header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(255, 255, 255, 0.95);
    box-shadow: var(--shadow);
    z-index: 1000;
    padding: 15px 0;
  }

  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  header .logo {
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--black);
  }

  .logo-highlight {
    color: var(--gold);
  }

  nav {
    display: flex;
    list-style: none;
    gap: 30px;
    align-items: center;
  }

  nav a {
    color: var(--black);
    font-weight: 500;
    transition: var(--transition);
    position: relative;
    padding: 5px 0;
  }

  nav a:hover {
    color: var(--gold);
  }

  nav a::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--gold);
    transition: var(--transition);
  }

  nav a:hover::after {
    width: 100%;
  }

  nav a.active {
    color: var(--gold);
  }

  nav a.active::after {
    width: 100%;
  }

  main {
    margin-top: 80px;
  }

  section.page {
    min-height: 90vh;
    padding: 80px 0;
    scroll-margin-top: 80px;
    display: none;
  }

  section.page[aria-hidden="false"],
  section.page:not([hidden]) {
    display: block;
  }

  .container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  section.page h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 60px;
    color: var(--black);
    text-align: center;
  }

  .next-page-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 15px 30px;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 600;
    transition: var(--transition);
    border: none;
    cursor: pointer;
    background-color: var(--gold);
    color: var(--white);
    box-shadow: 0 4px 14px rgba(212,175,55,0.4);
    margin: 3rem 0 1rem 0;
    display: inline-block;
  }

  .next-page-btn:hover {
    background-color: var(--black);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  }

  #home-banner {
    width: 100%;
    height: 60vh;
    border-radius: 16px;
    margin-bottom: 3rem;
    position: relative;
    background-image: url("[[[BANNER_IMAGE_URL]]]");
    background-size: cover;
    background-position: center;
    box-shadow: 0 12px 40px rgba(212,175,55,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--white);
    overflow: hidden;
  }

  #home-banner:after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 16px;
    background: linear-gradient(45deg, rgba(212,175,55,0.7), rgba(0,0,0,0.7));
    z-index: 1;
  }

  #home-banner-text {
    position: relative;
    z-index: 2;
    max-width: 900px;
  }

  #home-banner-text h1 {
    font-weight: 800;
    font-size: 3.8rem;
    margin-bottom: 0.5rem;
    text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
  }

  #home-banner-text p {
    font-weight: 500;
    font-size: 1.55rem;
    max-width: 620px;
    margin: auto;
    text-shadow: 1px 1px 8px rgba(0, 0, 0, 0.6);
  }

  #home-content-box {
    display: flex;
    flex-wrap: wrap;
    gap: 3rem;
    align-items: center;
    background: var(--cream);
    border-radius: 16px;
    padding: 3rem 4rem;
    box-shadow: 0 10px 45px rgba(212,175,55,0.3);
  }

  #home-content-box.left {
    flex-direction: row;
  }

  #home-content-box.right {
    flex-direction: row-reverse;
  }

  #home-content-box img {
    width: 45%;
    border-radius: 16px;
    max-width: 500px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
  }

  #home-content-box .text-content {
    flex: 1;
  }

  #home-content-box h2 {
    font-weight: 700;
    font-size: 2.8rem;
    margin-bottom: 1rem;
    color: var(--gold);
  }

  #home-content-box p {
    font-size: 1.2rem;
    color: var(--black);
    line-height: 1.6;
  }

  #experience-cards {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
    margin-top: 4rem;
  }

  .exp-card {
    background: var(--white);
    border-radius: 16px;
    padding: 2rem 1.5rem;
    width: 280px;
    box-shadow: 0 6px 25px rgba(212,175,55,0.3);
    text-align: center;
    border: 3px solid var(--gold);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: default;
  }

  .exp-card:hover, .exp-card:focus-within {
    transform: translateY(-10px);
    box-shadow: 0 16px 45px rgba(212,175,55,0.6);
    outline: none;
  }

  .exp-card h3 {
    color: var(--gold);
    font-size: 1.8rem;
    margin-bottom: 1rem;
    font-weight: 700;
  }

  .exp-card p {
    font-size: 1.1rem;
    color: var(--black);
    line-height: 1.5;
  }

  .animated-card-list {
    display: flex;
    flex-direction: column;
    gap: 3rem;
    margin-top: 2rem;
  }

  .animated-card {
    background: var(--cream);
    border-radius: 16px;
    box-shadow: 0 8px 35px rgba(0,0,0,0.12);
    padding: 2rem 3rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 3rem;
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .animated-card:nth-child(odd) {
    flex-direction: row;
  }

  .animated-card:nth-child(even) {
    flex-direction: row-reverse;
  }

  .animated-card:hover,
  .animated-card:focus-within {
    transform: translateY(-10px);
    box-shadow: 0 18px 40px rgba(212,175,55,0.85);
    outline: none;
  }

  .animated-card img {
    width: 45%;
    max-height: 220px;
    border-radius: 16px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    object-fit: cover;
    flex-shrink: 0;
  }

  .animated-card .blog-card-content,
  .animated-card .service-card-content {
    width: 55%;
  }

  .animated-card h3 {
    color: var(--gold);
    font-weight: 700;
    font-size: 2rem;
    margin: 0 0 1rem 0;
  }

  .animated-card p {
    margin: 0;
    font-size: 1.1rem;
    color: var(--black);
    line-height: 1.5;
  }

  #page4 {
    padding-top: 4rem;
  }

  #contact-us {
    display: flex;
    gap: 3rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  #map-container {
    flex-basis: 400px;
    height: 330px;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 28px rgba(0,0,0,0.15);
  }

  #map-container iframe {
    width: 100%;
    height: 100%;
    border: 0;
  }

  #contact-info {
    flex-basis: 380px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 1.5rem;
  }

  #contact-info p {
    font-size: 1.3rem;
    color: var(--black);
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  #contact-info p i {
    color: var(--gold);
    font-size: 1.8rem;
  }

  #book-consult-btn {
    background: var(--gold);
    border: none;
    padding: 1.3rem 3.5rem;
    border-radius: 50px;
    color: var(--white);
    font-weight: 700;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: 0 10px 35px rgba(212,175,55,0.55);
    transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease;
    align-self: flex-start;
    margin-top: 2rem;
  }

  #book-consult-btn:hover,
  #book-consult-btn:focus {
    background: var(--black);
    color: var(--gold);
    transform: translateY(-4px);
    outline: none;
  }

  footer {
    background: var(--black);
    color: var(--white);
    padding: 3rem 4rem;
    font-size: 1rem;
    line-height: 1.75;
    user-select: none;
  }

  footer .footer-container {
    max-width: 1280px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    gap: 4rem;
    flex-wrap: wrap;
  }

  footer .footer-section {
    flex: 1 1 280px;
    min-width: 220px;
  }

  footer h3 {
    color: var(--gold);
    font-size: 1.3rem;
    margin-bottom: 1rem;
    font-weight: 700;
  }

  footer ul {
    list-style: none;
    padding-left: 0;
  }

  footer ul li {
    margin-bottom: 0.6rem;
  }

  footer a,
  footer p,
  footer li {
    color: var(--white);
  }

  footer a:hover,
  footer a:focus {
    color: var(--gold);
    text-decoration: underline;
  }

  .footer-year {
    text-align: center;
    padding-top: 2rem;
    margin-top: 2rem;
    border-top: 1px solid rgba(212, 175, 55, 0.3);
    font-size: 0.9rem;
    color: var(--light-gray);
  }

  @media (max-width: 1100px) {
    section.page {
      padding: 3rem;
    }
    nav {
      gap: 2rem;
    }
    #home-content-box {
      padding: 3rem;
      gap: 2rem;
    }
    .animated-card {
      padding: 2rem;
    }
    footer {
      padding: 3rem 2rem;
    }
  }
  
  @media (max-width: 768px) {
    header {
      padding: 1rem 1.5rem;
    }
    nav {
      gap: 1.5rem;
    }
    nav a {
      font-size: 0.85rem;
    }
    section.page {
      padding: 2.5rem 1.5rem;
    }
    section.page h2 {
      font-size: 2.4rem;
      margin-bottom: 2rem;
    }
    #home-banner {
      height: 45vh;
      border-radius: 10px;
      margin-bottom: 2rem;
    }
    #home-banner-text h1 {
      font-size: 2.5rem;
    }
    #home-banner-text p {
      font-size: 1.1rem;
    }
    #home-content-box {
      flex-direction: column !important;
      padding: 2rem;
      gap: 2rem;
    }
    #home-content-box img {
      width: 100%;
      max-width: 100%;
    }
    #home-content-box h2 {
      font-size: 1.8rem;
    }
    .animated-card {
      flex-direction: column !important;
      padding: 1.5rem;
      gap: 1.5rem;
    }
    .animated-card img {
      width: 100%;
      max-height: none;
    }
    .animated-card .blog-card-content,
    .animated-card .service-card-content {
      width: 100%;
    }
    .animated-card h3 {
      font-size: 1.4rem;
    }
    #contact-us {
      gap: 2rem;
      flex-direction: column;
    }
    #map-container {
      height: 300px;
      flex-basis: 100%;
    }
    #contact-info {
      flex-basis: 100%;
    }
    footer {
      padding: 2rem 1.5rem;
    }
  }

  @keyframes slideInPopup {
    from {
      opacity: 0;
      transform: translateY(30px) translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0) translateX(0);
    }
  }

  #ai-popup {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 520px;
    max-width: 95vw;
    height: 700px;
    max-height: 90vh;
    background: var(--white);
    border: 1px solid var(--light-gray);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
    font-family: 'Montserrat', sans-serif;
    z-index: 1500;
    display: none;
    flex-direction: column;
    overflow: hidden;
    animation: slideInPopup 0.3s ease-out;
  }
  
  #ai-popup-header {
    background: var(--black);
    padding: 1rem 1.5rem;
    color: var(--gold);
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    user-select: none;
    flex-shrink: 0;
    border-bottom: 1px solid var(--light-gray);
  }
  
  #ai-popup-header button {
    background: transparent;
    border: none;
    color: var(--gold);
    font-size: 1.5rem;
    font-weight: 600;
    cursor: pointer;
    user-select: none;
    transition: color 0.2s ease;
  }

  #ai-popup-header button:hover {
    color: var(--white);
  }
  
  #ai-popup iframe {
    flex: 1;
    width: 100%;
    border: none;
    min-height: 0;
  }

  #ai-notify {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: var(--black);
    color: var(--gold);
    padding: 0.9rem 1.6rem;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    gap: 0.8rem;
    font-weight: 600;
    font-size: 0.9rem;
    z-index: 1400;
    user-select: none;
    font-family: 'Montserrat', sans-serif;
    border: 1px solid var(--gold);
    transition: all 0.2s ease;
  }
  
  #ai-notify:hover,
  #ai-notify:focus {
    background: var(--gold);
    color: var(--black);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
    outline: none;
  }
  
  #ai-notify i {
    font-size: 1.2rem;
  }
</style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo"><span class="logo-highlight">[[[CORPORATE NAME]]]</span></div>
      <nav class="nav-list">
        <a href="#page1" class="nav-link active" data-page="page1" aria-current="page">[[[Home]]]</a>
        <a href="#page2" class="nav-link" data-page="page2">[[[Services]]]</a>
        <a href="#page3" class="nav-link" data-page="page3">[[[Blogs]]]</a>
        <a href="#page4" class="nav-link" data-page="page4">[[[Contact Us]]]</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Page 1: Home -->
    <section id="page1" class="page" tabindex="-1" aria-label="Home" aria-hidden="false">
      <div class="container">
        <!-- Banner Image -->
        <div id="home-banner" role="img" aria-label="[[[Banner Image Description]]]">
          <div id="home-banner-text" aria-label="Banner Text">
            <h1>[[[Banner Title]]]</h1>
            <p>[[[Banner Subtitle text or tagline]]]</p>
          </div>
        </div>

        <!-- Content box with image and text with position editable -->
        <article id="home-content-box" class="flex-row [[[left]]]">
          <img
            src="[[[CONTENT_IMAGE_URL]]]"
            alt="[[[Content Image Description]]]"
            loading="lazy"
          />
          <div class="text-content">
            <h2>[[[Content Header]]]</h2>
            <p>[[[Content text description for the home page section.]]]</p>
          </div>
        </article>

        <!-- Experience Cards -->
        <section id="experience-cards" aria-label="Experience Cards">
          <article class="exp-card" tabindex="0">
            <h3>[[[Experience Card 1 Header]]]</h3>
            <p>[[[Experience Card 1 Text]]]</p>
          </article>
          <article class="exp-card" tabindex="0">
            <h3>[[[Experience Card 2 Header]]]</h3>
            <p>[[[Experience Card 2 Text]]]</p>
          </article>
          <article class="exp-card" tabindex="0">
            <h3>[[[Experience Card 3 Header]]]</h3>
            <p>[[[Experience Card 3 Text]]]</p>
          </article>
        </section>

        <button class="next-page-btn" aria-label="Go to Services Page" data-next="page2">
          [[[Next: Services]]]
        </button>
      </div>
    </section>

    <!-- Page 2: Services -->
    <section id="page2" class="page" tabindex="-1" aria-label="Services" aria-hidden="true" hidden>
      <div class="container">
        <h2>[[[Our Services]]]</h2>
        <div class="animated-card-list" aria-label="Services list">
          <article class="animated-card" tabindex="0">
            <img src="[[[SERVICE1_IMAGE]]]" alt="[[[Service 1 Image Alt]]]" />
            <div class="service-card-content">
              <h3>[[[Service 1 Header]]]</h3>
              <p>[[[Service 1 Description]]]</p>
            </div>
          </article>
          <article class="animated-card" tabindex="0">
            <img src="[[[SERVICE2_IMAGE]]]" alt="[[[Service 2 Image Alt]]]" />
            <div class="service-card-content">
              <h3>[[[Service 2 Header]]]</h3>
              <p>[[[Service 2 Description]]]</p>
            </div>
          </article>
          <article class="animated-card" tabindex="0">
            <img src="[[[SERVICE3_IMAGE]]]" alt="[[[Service 3 Image Alt]]]" />
            <div class="service-card-content">
              <h3>[[[Service 3 Header]]]</h3>
              <p>[[[Service 3 Description]]]</p>
            </div>
          </article>
        </div>

        <button class="next-page-btn" aria-label="Go to Blogs Page" data-next="page3">
          [[[Next: Blogs]]]
        </button>
      </div>
    </section>

    <!-- Page 3: Blogs -->
    <section id="page3" class="page" tabindex="-1" aria-label="Blogs" aria-hidden="true" hidden>
      <div class="container">
        <h2>[[[Our Blogs]]]</h2>
        <div class="animated-card-list" aria-label="Blogs list">
          <article class="animated-card" tabindex="0">
            <img src="[[[BLOG1_IMAGE]]]" alt="[[[Blog 1 Image Alt]]]" />
            <div class="blog-card-content">
              <h3>[[[Blog 1 Header]]]</h3>
              <p>[[[Blog 1 Excerpt Text]]]</p>
            </div>
          </article>
          <article class="animated-card" tabindex="0">
            <img src="[[[BLOG2_IMAGE]]]" alt="[[[Blog 2 Image Alt]]]" />
            <div class="blog-card-content">
              <h3>[[[Blog 2 Header]]]</h3>
              <p>[[[Blog 2 Excerpt Text]]]</p>
            </div>
          </article>
          <article class="animated-card" tabindex="0">
            <img src="[[[BLOG3_IMAGE]]]" alt="[[[Blog 3 Image Alt]]]" />
            <div class="blog-card-content">
              <h3>[[[Blog 3 Header]]]</h3>
              <p>[[[Blog 3 Excerpt Text]]]</p>
            </div>
          </article>
        </div>

        <button class="next-page-btn" aria-label="Go to Contact Us Page" data-next="page4">
          [[[Next: Contact Us]]]
        </button>
      </div>
    </section>

    <!-- Page 4: Contact Us -->
    <section id="page4" class="page" tabindex="-1" aria-label="Contact Us" aria-hidden="true" hidden>
      <div class="container">
        <h2>[[[Contact Us]]]</h2>
        <div id="contact-us">
          <div id="map-container" aria-label="Map Location">
            <iframe
              src="https://www.google.com/maps/embed?pb=[[[MAPS_EMBED_URL]]]"
              aria-hidden="false"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
          <div id="contact-info">
            <p>
              <i class="fas fa-phone"></i> [[[Phone: +123 456 7890]]]
            </p>
            <p>
              <i class="fas fa-envelope"></i>
              <span>[[[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f89b97968c999b8cb89d80999588949dd69b9795">[email&#160;protected]</a>]]]</span>
            </p>
            <button id="book-consult-btn" aria-haspopup="dialog">
              [[[Book Consultation]]]
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-container">
      <section class="footer-section" aria-label="Company Info">
        <h3>[[[Company]]]</h3>
        <p>[[[Your company's premium legal & business consulting partner.]]]</p>
      </section>
      <section class="footer-section" aria-label="Quick Links">
        <h3>[[[Quick Links]]]</h3>
        <ul>
          <li><a href="#page1">[[[Home]]]</a></li>
          <li><a href="#page2">[[[Services]]]</a></li>
          <li><a href="#page3">[[[Blogs]]]</a></li>
          <li><a href="#page4">[[[Contact Us]]]</a></li>
        </ul>
      </section>
      <section class="footer-section" aria-label="Contact Info">
        <h3>[[[Contact]]]</h3>
        <p><i class="fas fa-phone"></i> [[[+123 456 7890]]]</p>
        <p><i class="fas fa-envelope"></i> [[[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="21424e4f55404255614459404c514d440f424e4c">[email&#160;protected]</a>]]]</p>
      </section>
    </div>
    <div class="footer-year">
      &copy; <span id="footerYear"></span> [[[CORPORATE NAME]]]. [[[All rights reserved.]]]
    </div>
  </footer>

  <!-- AI Popup Chat -->
  <div
    id="ai-popup"
    role="dialog"
    aria-modal="true"
    aria-hidden="true"
    aria-label="AI Chat Popup"
  >
    <div id="ai-popup-header">
      [[[How may I help you today?]]]
      <button type="button" aria-label="Close AI Chat Popup" id="ai-popup-close">&times;</button>
    </div>
    <iframe
      src="https://lawglitch.in/booking/client.html?pro_id=07654aea-41ea-4677-bdbb-c6152cf8e382"
      title="Booking Chat Interface"
      allow="clipboard-write"
      sandbox="allow-scripts allow-same-origin"
    ></iframe>
  </div>

  <!-- Persistent AI notification bar on bottom right -->
  <div id="ai-notify" tabindex="0" role="button" aria-label="Open AI Chat">
    <i class="fas fa-robot"></i> [[[How may I help you?]]]
  </div>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    // Remove [[[...]]] markers from visible text on DOM content loaded
    document.addEventListener('DOMContentLoaded', function () {
      const MARKER_START = '[[[';
      const MARKER_END = ']]]';

      function stripMarkers(node) {
        if (node.nodeType === Node.TEXT_NODE) {
          if (node.textContent.includes(MARKER_START)) {
            node.textContent = node.textContent.replace(/\[\[\[(.*?)\]\]\]/g, '$1');
          }
        } else if (node.nodeType === Node.ELEMENT_NODE) {
          if (node.hasAttribute('alt')) {
            let alt = node.getAttribute('alt');
            if (alt.includes(MARKER_START)) {
              node.setAttribute('alt', alt.replace(/\[\[\[(.*?)\]\]\]/g, '$1'));
            }
          }
          if (node.hasAttribute('aria-label')) {
            let alabel = node.getAttribute('aria-label');
            if (alabel.includes(MARKER_START)) {
              node.setAttribute('aria-label', alabel.replace(/\[\[\[(.*?)\]\]\]/g, '$1'));
            }
          }
          ['href', 'src'].forEach((attr) => {
            if (node.hasAttribute(attr)) {
              let val = node.getAttribute(attr);
              if (val.includes(MARKER_START)) {
                node.setAttribute(attr, val.replace(/\[\[\[(.*?)\]\]\]/g, '$1'));
              }
            }
          });
          if (node.tagName !== 'SCRIPT' && node.tagName !== 'STYLE') {
            Array.from(node.childNodes).forEach(stripMarkers);
          }
        }
      }

      stripMarkers(document.body);

      // Editable title support: strip [[[ ]]] markers from title
      const titleText = document.title;
      if (titleText.includes(MARKER_START)) {
        document.title = titleText.replace(/\[\[\[(.*?)\]\]\]/g, '$1');
      }

      // Setup footer year dynamically
      const fy = document.getElementById('footerYear');
      if (fy) fy.textContent = new Date().getFullYear();

      // Navigation links and page display logic
      const navLinks = document.querySelectorAll('nav a.nav-link');
      const pages = document.querySelectorAll('section.page');

      function showPage(id) {
        pages.forEach((page) => {
          if (page.id === id) {
            page.hidden = false;
            page.setAttribute('aria-hidden', 'false');
            page.focus();
          } else {
            page.hidden = true;
            page.setAttribute('aria-hidden', 'true');
          }
        });
        navLinks.forEach((link) => {
          if (link.getAttribute('data-page') === id) {
            link.classList.add('active');
            link.setAttribute('aria-current', 'page');
          } else {
            link.classList.remove('active');
            link.removeAttribute('aria-current');
          }
        });
        window.scrollTo(0, 0);
      }

      navLinks.forEach((link) =>
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const targetPage = this.getAttribute('data-page');
          showPage(targetPage);
        })
      );

      // Next page buttons
      document.querySelectorAll('.next-page-btn').forEach((btn) =>
        btn.addEventListener('click', () => {
          const nextId = btn.getAttribute('data-next');
          if (nextId) {
            showPage(nextId);
          }
        })
      );

      // Initialize default page
      showPage('page1');

      // AI popup logic
      const aiPopup = document.getElementById('ai-popup');
      const aiPopupCloseBtn = document.getElementById('ai-popup-close');
      const aiNotify = document.getElementById('ai-notify');

      function showAIPopup() {
        aiPopup.style.display = 'flex';
        aiPopup.setAttribute('aria-hidden', 'false');
      }

      function closeAIPopup() {
        aiPopup.style.display = 'none';
        aiPopup.setAttribute('aria-hidden', 'true');
      }

      aiPopupCloseBtn.addEventListener('click', closeAIPopup);
      aiPopup.addEventListener('click', (e) => {
        if (e.target === aiPopup) closeAIPopup();
      });
      aiNotify.addEventListener('click', () => {
        showAIPopup();
      });
      aiNotify.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          showAIPopup();
        }
      });

      showAIPopup();

      const bookBtn = document.getElementById('book-consult-btn');
      if (bookBtn) {
        bookBtn.addEventListener('click', () => {
          aiPopup.style.display = 'flex';
          aiPopup.setAttribute('aria-hidden', 'false');
          showPage('page4');
        });
      }
    });
  </script>
</body>
</html>
